---
title: 什么是协程
date: '2025-05-07'
tags: ['javascript', 'es6']
draft: true
summary: 什么是协程，和线程有什么区别？
---

协程（Coroutines）是一种比线程更加轻量级的存在。协程完全由程序所控制（在用户态执行），带来的好处是性能大幅度的提升。

一个操作系统中可以有多个进程；一个进程可以有多个线程；同理，一个线程可以有多个协程。

协程是一个特殊的函数，这个函数可以在某个地方挂起，并且可以重新在挂起处继续运行。

一个线程内的多个协程的运行是串行的，这点和多进程（多线程）在多核 CPU 上执行时是不同的。 多进程（多线程）在多核 CPU 上是可以并行的。当线程内的某一个协程运行时，其它协程必须挂起。

## 协程的使用

计算型的操作，利用协程来回切换执行，没有任何意义，来回切换并保存状态 反倒会降低性能。
IO型的操作，利用协程在IO等待时间就去切换执行其他任务，当 IO 操作结束后再自动回调，那么就会大大节省资源并提供性能，从而实现异步编程（不等待任务结束就可以去执行其他代码）。
